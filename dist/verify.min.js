"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Verify=function(){function e(t){_classCallCheck(this,e),this.veries=t}return _createClass(e,[{key:"test",value:function(e){var t=this,r=[];return Object.keys(this.veries).map(function(r){return t.verify(r,e[r],t.veries[r])}).forEach(function(e){return e.result?r:r.push(e)}),r.length?{result:!1,keys:r,msg:r.map(function(e){return e.msg})}:{result:!0}}},{key:"verify",value:function(e,t,r){var n=this,u=[];return"function"==typeof r&&u.push({key:e,msg:"Type: "+e+" type is error.",result:!!this.isNotValue(t)||this.type(t,r)}),Array.isArray(r)?u.push({key:e,msg:"Type: "+e+" type is error.",result:r.some(function(e){return n.type(t,e)})||!t}):"object"===(void 0===r?"undefined":_typeof(r))&&(u.push({key:e,msg:"Required: "+e+" must be required.",result:this.required(t,r.required)}),this.isNotValue(t)||u.push({key:e,msg:"Type: "+e+" type is error.",result:Array.isArray(r.type)?r.type.some(function(e){return n.type(t,e)}):this.type(t,r.type)}),!r.test||u.push({key:e,msg:"Test: "+e+" can't pass regular expression",result:r.test.test(t)})),u.find(function(e){return!1===e.result})||{key:e,result:!0}}},{key:"type",value:function(e,t){return(void 0===e?"undefined":_typeof(e))===_typeof(t())}},{key:"required",value:function(e,t){return!t||!(!t||!e)}},{key:"isNotValue",value:function(e){return null===e||void 0===e}}]),e}();module.exports=Verify;